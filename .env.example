# Hierarchical Memory Middleware Configuration
# Copy this file to .env and customize the values

# ===================================================================
# MODEL CONFIGURATION
# ===================================================================

# RECOMMENDED: Claude Agent SDK models (use Claude Pro/Max subscription via CLI auth)
# These don't require API credits - just authenticate Claude CLI once with `claude`
#
# Claude Agent SDK models:
#   claude-agent-opus   - Flagship model, best quality
#   claude-agent-sonnet - Premium model, great balance (DEFAULT)
#   claude-agent-haiku  - Fast model, efficient
#
# API-based models (require API credits):
#   Anthropic: claude-sonnet-4, claude-3-5-haiku
#   OpenAI: gpt-4o, gpt-4o-mini
#   Moonshot: moonshot-v1-8k, moonshot-v1-32k, moonshot-v1-128k
#   Together AI: llama-3-8b-instruct, llama-3-70b-instruct
#   DeepSeek: deepseek-chat, deepseek-coder
#   Gemini: gemini-2-5-pro, gemini-2-5-flash, gemini-2-0-flash

# Main working model (default uses Claude Agent SDK with CLI auth)
WORK_MODEL=claude-agent-sonnet
# Embedding model (currently OpenAI only)
EMBEDDING_MODEL=text-embedding-3-small

# ===================================================================
# CLAUDE AGENT SDK SETTINGS
# ===================================================================
# These only apply when using claude-agent-* models

# Permission mode for tool execution:
#   default           - Requires approval for each tool use
#   acceptEdits       - Auto-approve file edits, ask for other actions
#   bypassPermissions - No prompts, full automation (use with caution)
AGENT_PERMISSION_MODE=default

# Allowed tools (comma-separated list, empty = no built-in tools)
# Available: Read, Write, Edit, Bash, Glob, Grep, WebSearch, WebFetch
# Example: AGENT_ALLOWED_TOOLS=Read,Glob,Grep
AGENT_ALLOWED_TOOLS=

# Use Claude Pro/Max subscription instead of API credits (default: true)
# When true, clears ANTHROPIC_API_KEY so CLI uses OAuth from ~/.claude/.credentials.json
# Requires: Claude Code CLI authenticated (`claude` command run at least once)
AGENT_USE_SUBSCRIPTION=true

# ===================================================================
# API KEYS
# ===================================================================
# Set the API keys for the providers you want to use

# Anthropic Claude models
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI models (GPT-4o, etc.) and embeddings
OPENAI_API_KEY=your_openai_api_key_here

# Moonshot (Kimi) models
MOONSHOT_API_KEY=your_moonshot_api_key_here

# Together AI models
TOGETHER_API_KEY=your_together_api_key_here

# DeepSeek models
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# Google Gemini models
GEMINI_API_KEY=your_gemini_api_key_here

# ===================================================================
# MEMORY HIERARCHY CONFIGURATION
# ===================================================================

# Number of recent nodes to keep in full detail
RECENT_NODE_LIMIT=10

# Threshold for creating summary nodes
SUMMARY_THRESHOLD=20

# Threshold for creating meta-summary nodes
META_SUMMARY_THRESHOLD=50

# Threshold for archiving old content
ARCHIVE_THRESHOLD=200

# ===================================================================
# STORAGE CONFIGURATION
# ===================================================================

# Database file path
DB_PATH=./conversations.db

# Backup interval in minutes
BACKUP_INTERVAL_MINUTES=5

# ===================================================================
# MCP SERVER CONFIGURATION
# ===================================================================

# Port for MCP server
MCP_PORT=8000

# Enable MCP tools integration
ENABLE_MCP_TOOLS=true

# ===================================================================
# EXAMPLE CONFIGURATIONS
# ===================================================================

# RECOMMENDED: Claude Agent SDK (uses Claude Pro/Max subscription)
# Just run `claude` once to authenticate, then:
# WORK_MODEL=claude-agent-sonnet
# (No API key needed!)

# For Claude API users (requires API credits):
# WORK_MODEL=claude-sonnet-4
# ANTHROPIC_API_KEY=sk-your-anthropic-key

# For Moonshot users:
# WORK_MODEL=moonshot-v1-128k
# MOONSHOT_API_KEY=sk-your-moonshot-key

# For OpenAI users:
# WORK_MODEL=gpt-4o
# OPENAI_API_KEY=sk-your-openai-key

# For DeepSeek users:
# WORK_MODEL=deepseek-chat
# DEEPSEEK_API_KEY=your-deepseek-key

# For Gemini users:
# WORK_MODEL=gemini-2-5-pro
# GEMINI_API_KEY=your-gemini-key

# Mixed setup (different models for different tasks):
# WORK_MODEL=claude-agent-sonnet
# OPENAI_API_KEY=your-openai-key  # For embeddings
